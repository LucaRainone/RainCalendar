/*! RainCalendar 0.1.0 Copyright Luca Rainone | MIT License https://github.com/LucaRainone/RainCalendar/master/LICENSE.txt*/
!function(t){!function(t,e,a,n,r,i){!function(s,o,d,u,l){!function(d){!function(t){!function(t){jQuery&&(jQuery.fn.rainCalendar=function(e){return t(this,e)})}(t)}(function(t,e,a,n,r,i,s,o,d,u,l){var c={it:d,en:u,de:l},f=0,g=[],h={STATIC_CALENDAR:"static-calendar",DATE_STRING:"date-string"},D={SINGLE:"single",RANGE:"range",MULTIPLE:"multiple"},p={},v={},m=function(d,u){u=e.extend({lang:"en",interactive:!0,ui:h.STATIC_CALENDAR,selectionType:D.SINGLE,disabledDates:[]},u);var l,m=o(d),y=t(m,u);switch(u.ui){case h.STATIC_CALENDAR:y.setUI(n.build(d,u,c[u.lang],y));break;case h.DATE_STRING:y.setUI(a.build(d,u,c[u.lang],y));break;default:if(!p[u.ui])throw"no UI registered as '"+u.ui+"'";y.setUI(p[u.ui].build(d,u,c[u.lang],y))}switch(u.selectionType){case D.SINGLE:l=r(m,u,y);break;case D.RANGE:l=i(m,u,y);break;case D.MULTIPLE:l=s(m,u,y);break;default:if(!v[u.selectionType])throw"no SelectionType registered as '"+u.selectionType+"'";l=v[u.selectionType](m,u,y)}return y.disable(u.disabledDates),m.attr("data-raincalendar-id",++f),g.push(l),l};return m.registerLocale=function(t,e){c[t]=e},m.registerUI=function(t,e){p[t]=e()},m.registerSelectionType=function(t,e){v[t]=e},m.getApi=function(t){return g[t+1]},m.UI=h,m.SELECTION_TYPE=D,m.utils=e,m}(s,t,o,d,a,u,l,e,n,r,i))}(function(t,e,a){var n=function(n,r,i,s){n.empty();for(var o=t.normalizeDate(r),d=s.numberOfMonths(),u=0;u<d;u++)n.append(e(o.getMonth(),o.getFullYear(),s,i,0===u,u===d-1)),o.setMonth(o.getMonth()+1);var l=n.find(".arrow-right"),c=l.length,f=0;n.find(".arrow-right").each(function(){++f!==c&&a(this).removeClass("arrow-right")}),f=0,n.find(".arrow-left").each(function(){0!==f&&a(this).removeClass("arrow-left"),f++})},r=function(t,e,a){t.find("[data-month-year='"+e.getMonth()+"-"+e.getFullYear()+"']").find("td[data-day='"+e.getDate()+"']").addClass(a)},i=function(e,n,r,i){"function"==typeof n?e.find("[data-month-year]").each(function(){var t=a(this).attr("data-month-year").split("-");a(this).find("td[data-day]").each(function(){var e=new Date(t[1],t[0],a(this).attr("data-day"));n(e)&&r(e)})}):e.find("table[data-month-year]").each(function(){var e=a(this).attr("data-month-year").split("-");e=[+e[0],+e[1]];for(var s=0;s<n.length;s++)if(1===n[s].length)n[s][0].getMonth()===e[0]&&n[s][0].getFullYear()===e[1]&&r(n[s][0]);else if(2===n[s].length){var o=t.date2string(n[s][0]),d=t.date2string(n[s][1]),u=t.date2string(t.normalizeDate(e[1],e[0],1)),l=t.normalizeDate(e[1],e[0],1);if(l.setMonth(l.getMonth()+1),l.setDate(0),(l=t.date2string(l))>=o&&u<=d){var c=t.normalizeDate(e[1],e[0],1);if(i&&u>=o&&l<=d)i(c);else for(;+e[0]==+c.getMonth();){var f=t.date2string(c);f>=o&&f<=d&&r(c),c.setDate(c.getDate()+1)}}}})},s=function(t,e,n){var r=e.getMonth()+"-"+e.getFullYear();t.find("table[data-month-year='"+r+"']").find("td[data-day]").each(function(){a(this).addClass(n)})},o=function(t,e){var a=e.getSelectedDates();t.find(".selected").removeClass("selected"),t.find(".selected-range-start").removeClass("selected-range-start"),t.find(".selected-range-end").removeClass("selected-range-end"),i(t,a,function(e){r(t,e,"selected")},function(e){s(t,e,"selected")});for(var n=0;n<a.length;n++)2===a[n].length&&(r(t,a[n][0],"selected-range-start"),r(t,a[n][1],"selected-range-end"))},d=function(t,e){var a=e.getDisabledDates();t.find(".disabled").removeClass("disabled"),i(t,a,function(e){r(t,e,"disabled")},function(e){s(t,e,"disabled")})},u=function(t,e){d(t,e),o(t,e)},l=function(e,a,n){"numberOfMonths"===a&&(n=t.functionize(n)),e[a]=n};return{build:function(e,c,f,g){var h={};c=t.extend({numberOfMonths:1,startDate:new Date},c);var D=t.buildEventsListener(["viewChange","markDate"],h),p=function(){n(m,y,f,c),u(m,g);for(var t in v)m.find("."+t).removeClass(t),i(m,v[t],function(e){r(m,e,t)},function(e){s(m,e,t)});D("viewChange",h)},v={};l(c,"numberOfMonths",c.numberOfMonths);var m=a(e),y=t.normalizeDate(c.startDate);return n(m,y,f,c),m.on("click",".arrow-right",function(){y.setMonth(y.getMonth()+1),p()}),m.on("click",".arrow-left",function(){y.setMonth(y.getMonth()-1),p()}),m.on("click","td[data-day]:not(.disabled)",function(e){e.stopPropagation(),e.preventDefault();var n=a(this);if(n.attr("class").split("disabled").length>1)return!1;var r=n.attr("data-day"),i=n.parent().parent().parent(),s=i.attr("data-month-year").split("-"),o=t.normalizeDate(s[1],s[0],r);D("markDate",h,[o,e.shiftKey,e.altKey])}),g.onSetSelectedDates(function(){o(m,g)}),g.onSetDisabledDates(function(){d(m,g)}),h.tagDatesAs=function(e,a){"function"!=typeof e&&(e=t.normalizeDates(e)),v[a]=e,m.find("."+a).removeClass(a),i(m,e,function(t){r(m,t,a)},function(t){s(m,t,a)})},h.redraw=function(){p()},h.setOption=function(t,e){l(c,t,e)},h.showDate=function(e){y=t.normalizeDate(e),p()},h.getViewRange=function(){var e=t.normalizeDate(y);e.setDate(1);var a=t.normalizeDate(e),n=c.numberOfMonths();return a.setMonth(a.getMonth()+n),[e,a]},h}}}(t,d,e))}(function(t){return function(){var e=[],a=[],n={},r=t.buildEventsListener(["clickDate","setSelectedDates","setDisabledDates"],n),i=function(e,a){if(t.overlaps(e,a))throw"overlap detected"};return t.extend(n,{select:function(n){var s=t.normalizeDates(n);i(s,a),e=s,r("setSelectedDates",this)},disable:function(e){a=t.normalizeDates(e),r("setDisabledDates",this)},getSelectedDates:function(){return e},getDisabledDates:function(){return a},ui:function(){return this._ui},setUI:function(t){this._ui=t}})}}(t),function(t,e){return{build:function(a,n,r,i){var s=n.fromDatesToHTML||function(t){for(var a=[],n=0;n<t.length;n++)1===t[n].length?a.push(e.date2string(t[n][0])):a.push(e.date2string(t[n][0])+" - "+e.date2string(t[n][1]));return a.join("<br/>")},o={},d=(e.buildEventsListener(["viewChange","markDate"],o),t(a));return d.empty(),o.tagDatesAs=function(t,e){},i.onSetSelectedDates(function(t){d.html(s(t))}),o}}}(e,t),function(t){return function(e,a,n,r){n={className:n.className||"rain_calendar",weekStart:n.weekStart||0,visibleBoundsDays:n.visibleBoundsDays||!1,interactive:n.interactive};var i=t("<table/>").addClass(n.className),s=t("<thead/>"),o=t("<tbody/>"),d=new Date(a,e,1,12),u=new Date(a,e+1,0,12).getDate(),l=new Date(a,e,0,12).getDate(),c=new Date,f=r;e=d.getMonth(),a=d.getFullYear(),i.attr("data-month-year",e+"-"+a),i.attr("unselectable","on"),n.interactive&&i.addClass("interactive");var g=t("<tr/>");g.append(t("<th/>").append(t("<span/>")).addClass("arrow-left")),g.append(t("<th/>").html(f.months[e]+" "+a).attr("colspan",5)),g.append(t("<th/>").append(t("<span/>")).addClass("arrow-right")),s.append(g);var h,D;h=t("<tr/>");var p;for(D=0;D<7;D++)p=(D+n.weekStart)%7,h.append(t("<th/>").html(f.shortDays[p]).addClass("day-"+p));s.append(h),i.append(s);var v=d.getDay();h=t("<tr/>");var m=0,y=(v-n.weekStart+7)%7;for(D=0;D<y;D++)m++,h.append(t("<td/>").html(n.visibleBoundsDays?+l-y+1+D:"").addClass("prev-month"));for(D=1;D<=u;D++)7===m&&(o.append(h),h=h.clone().empty(),m=0),h.append(t("<td/>").append(t("<span/>").html(D)).attr("data-day",D).addClass("day-"+(m+n.weekStart)%7)),m++;var b=1;for(D=m;D<7;D++)n.visibleBoundsDays?h.append(t("<td/>").html(b++).addClass("next-month")):h.append(t("<td/>").addClass("next-month"));o.append(h),e===c.getMonth()&&a===c.getFullYear()&&o.find("td").each(function(){t(this).attr("data-day")===c.getDate()&&t(this).addClass("today")});var w=o.find("tr").length;for(D=0;D<6-w;D++){h=t("<tr/>").addClass("emptyrow");for(var M=0;M<7;M++)n.visibleBoundsDays?h.append(t("<td/>").html(b++).addClass("next-month")):h.append(t("<td/>").addClass("next-month"));o.append(h)}return i.append(o)}}(e),function(t){var e=function(e,a){for(var n,r,i=0,s=Number.MAX_VALUE,o=0;o<a.length;o++)for(r=0;r<a[o].length;r++)n=a[o][r],n<e&&n>i&&(i=+n),n>e&&n<s&&(s=+n);var d=new Date,u=new Date,l=[],c=[];return 0!==i?(d.setTime(i),l.push(["--",d]),t.date2string(t.getDateAddingDays(d,1))!==t.date2string(e)&&c.push([t.getDateAddingDays(d,1),t.getDateAddingDays(e,-1)])):c.push(["--",t.getDateAddingDays(e,-1)]),s!==Number.MAX_VALUE?(u.setTime(s),l.push([u,"++"]),t.date2string(t.getDateAddingDays(u,-1))!==t.date2string(e)&&c.push([t.getDateAddingDays(e,1),t.getDateAddingDays(u,-1)])):c.push([t.getDateAddingDays(e,1),"++"]),{yes:c,no:l}},a=function(t,e,a,n){t.tagDatesAs(e,"disabled-for-range"),t.tagDatesAs(a,"enable-for-range"),t.tagDatesAs(n,"rangestart")};return function(n,r,i){var s=[],o=i.ui(),d=[],u=[],l=[];o.onMarkDate(function(t){if(0===s.length||s.length>=2){s=[],s.push(t),i.select([]),l=t;var n=e(t,i.getDisabledDates());d=n.no,u=n.yes,a(o,d,u,l)}else 1===s.length&&(s[0]<t?s.push(t):s.unshift(t),l=[],i.select([s]),d=[],u=[],a(o,d,u,l))});var c=i.select;return i.select=function(e){if(!t.isArray(e))throw"In range mode, the select method accept only array";c(e)},i}}(t),function(t){function e(e,a){for(var n=t.date2string(e),r=0;r<a.length;r++)if(t.date2string(a[r])===n)return r;return-1}function a(t,a){var n=e(t,a);return-1===n?a.push(new Date(+t)):a.splice(n,1),-1===n}function n(t,a){var n=e(t,a);return-1===n&&a.push(new Date(+t)),-1===n}function r(t,a){var n=e(t,a);return-1!==n&&a.splice(n,1),-1===n}return function(i,s,o){var d,u=!1,l=s.weekStart||0,c=o.getSelectedDates();return o.ui().onMarkDate(function(i,s,f){var g,h=o.getDisabledDates();if(s&&d){var D=d,p=D<i?[D,i]:[i,D];g=new Date(+p[0]);for(var v=-1!==e(d,c),m=v?n:r;t.date2string(g)<=t.date2string(p[1]);)t.overlaps(g,h)||m(g,c),g.setDate(g.getDate()+1)}else if(f&&d){var y=d,p=y<i?[y,i]:[i,y],b=(y+l)%6<(i+l)%6?[i,y]:[y,i],w=Math.min(b[0].getDay(),b[1].getDay()),M=Math.max(b[0].getDay(),b[1].getDay());g=new Date(+p[0]);for(var v=-1!==e(d,c),m=v?n:r;t.date2string(g)<=t.date2string(p[1]);)g.getDay()<=M&&g.getDay()>=w&&!t.overlaps(g,h)&&m(g,c),g.setDate(g.getDate()+1)}else a(i,c);d=new Date(+i);try{u=!0,o.select(c),u=!1}catch(t){c.pop()}}),o.onSetSelectedDates(function(t){if(!u)for(var e=0;e<t.length;e++){if(1!==t[e].length)throw"not valid selection";c.push(t[e][0])}}),o}}(t))}(function(){var t=function(t){return t<10?"0"+t:t+""},e=function(t,e){var a,n,r,i;return a=this.date2string(t[0]),n=this.date2string(t[1]),r=this.date2string(e[0]),i=this.date2string(e[1]),a<=i&&r<=n};return{isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},date2string:function(e){return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())},extend:function(t,e){for(var a in e)t[a]=e[a];return t},getDateAddingDays:function(t,e){var a=new Date(t);return a.setDate(a.getDate()+ +e),a},splitRange:function(t,e){var a=new Date(t[0]),n=new Date(t[1]),r=this.date2string(e);if(r>this.date2string(n)||r<this.date2string(a))return[null,null];var i=this.getDateAddingDays(e,-1),s=this.getDateAddingDays(e,1);return[+i>+a?[a,i]:null,s<n?[s,n]:null]},overlaps:function(t,a){var n,r,i,s;for(t=this.normalizeDates(t),a=this.normalizeDates(a),n=0;n<t.length;n++)for(i=t[n]instanceof Date?[t[n],t[n]]:1===t[n].length?[t[n][0],t[n][0]]:t[n],r=0;r<a.length;r++)if(s=a[r]instanceof Date?[a[r],a[r]]:1===a[r].length?[a[r][0],a[r][0]]:a[r],e.apply(this,[i,s]))return!0;return!1},normalizeDate:function(t){var e,a;if(3===arguments.length)e=new Date(arguments[0],arguments[1],arguments[2]);else if(t instanceof Date)e=new Date(+t);else if("string"==typeof t)switch(t){case"now":case"today":e=new Date;break;case"yesterday":a=new Date,a.setDate(a.getDate()-1),e=a;break;case"tomorrow":a=new Date,a.setDate(a.getDate()+1),e=a;break;case"--":case"a long time ago":e=new Date(0,0,1);break;case"++":case"future":e=new Date((new Date).getFullYear()+4e3,11,31);break;default:var n=t.split("-");3===n.length&&(e=new Date,e.setDate(n[2]),e.setMonth(+n[1]-1),e.setFullYear(n[0]))}return e.setHours(15),e.setMinutes(0),e.setSeconds(0),e},normalizeDates:function(t){var e,a,n=[];if(this.isArray(t))for(e=0;e<t.length;e++)if(this.isArray(t[e])){for(n[e]=[],a=0;a<t[e].length;a++)if(n[e][a]=this.normalizeDate(t[e][a]),1===a&&this.date2string(n[e][0])>this.date2string(n[e][a]))throw"inverted ranges"}else n[e]=[this.normalizeDate(t[e])];else n=[[this.normalizeDate(t)]];return n},functionize:function(t){if("function"!=typeof t){var e=t;t=function(){return e}}return t},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},buildEventsListener:function(t,e){for(var a,n={},r=0;r<t.length;r++)n[t[r]]=[],a="on"+this.ucfirst(t[r]),e[a]=function(t){return function(e){n[t].push(e)}}(t[r]);return function(t,e,a){void 0===a&&(a=[]);for(var r=0;r<n[t].length;r++)n[t][r].apply(e,a)}}}}(),function(){if(!window.jQuery)throw"You must load jquery before";return window.jQuery}(),function(t,e,a){return a.ui().onMarkDate(function(t){a.select(t)}),a},{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["dom","lun","mar","mer","gio","ven","sab"],format:"d/m/Y"},{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],format:"m/d/Y"},{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],format:"d.m.Y"})}();