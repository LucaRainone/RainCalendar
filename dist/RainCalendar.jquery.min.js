/*! RainCalendar 0.9.0 Copyright Luca Rainone | MIT License https://github.com/LucaRainone/RainCalendar/master/LICENSE.txt*/
!function(e){!function(t,a,n,r,i,s){!function(o,d,u,l,c){!function(u){!function(t){e.RainCalendar=arguments[0]}(function(e,t,a,n,r,i,s,o,d,u,l){var c={it:d,en:u,de:l},f=0,g=[],h={STATIC_CALENDAR:"static-calendar",DATE_STRING:"date-string"},D={SINGLE:"single",RANGE:"range",MULTIPLE:"multiple"},p={},v={},m={calenderize:function(d,u){u=t.extend({lang:"en",interactive:!0,ui:h.STATIC_CALENDAR,selectionType:D.SINGLE,disabledDates:[]},u);var l,v=o(d),m=e(v,u);switch(u.ui){case h.STATIC_CALENDAR:m.setUI(n.build(d,u,c[u.lang],m));break;case h.DATE_STRING:m.setUI(a.build(d,u,c[u.lang],m));break;default:if(!p[u.ui])throw"no UI registered as '"+u.ui+"'";m.setUI(p[u.ui].build(d,u,c[u.lang],m))}switch(u.selectionType){case D.SINGLE:l=r(v,u,m);break;case D.RANGE:l=i(v,u,m);break;case D.MULTIPLE:l=s(v,u,m)}return m.disable(u.disabledDates),v.attr("data-raincalendar-id",++f),g.push(l),l},registerLocale:function(e,t){c[e]=t},registerUI:function(e,t){p[e]=t},registerSelectionType:function(e,t){v[e]=t},getApi:function(e){return g[e+1]},UI:h,SELECTION_TYPE:D};return m}(o,t,d,u,n,l,c,a,r,i,s))}(function(e,t,a){var n=function(n,r,i,s){n.empty();for(var o=e.normalizeDate(r),d=s.numberOfMonths(),u=0;u<d;u++)n.append(t(o.getMonth(),o.getFullYear(),s,i,0===u,u===d-1)),o.setMonth(o.getMonth()+1);var l=n.find(".arrow-right"),c=l.length,f=0;n.find(".arrow-right").each(function(){f++,f!==c&&a(this).removeClass("arrow-right")}),f=0,n.find(".arrow-left").each(function(){0!==f&&a(this).removeClass("arrow-left"),f++})},r=function(e,t,a){var n=e.find("[data-month-year='"+t.getMonth()+"-"+t.getFullYear()+"']");n.find("td[data-day='"+t.getDate()+"']").addClass(a)},i=function(t,n,r,i){t.find("table[data-month-year]").each(function(){var t=a(this).attr("data-month-year").split("-");t=[+t[0],+t[1]];for(var s=0;s<n.length;s++)if(1===n[s].length)n[s][0].getMonth()===t[0]&&n[s][0].getFullYear()===t[1]&&r(n[s][0]);else if(2===n[s].length){var o=e.date2string(n[s][0]),d=e.date2string(n[s][1]),u=e.date2string(e.normalizeDate(t[1],t[0],1)),l=e.normalizeDate(t[1],t[0],1);if(l.setMonth(l.getMonth()+1),l.setDate(0),l=e.date2string(l),l>=o&&u<=d){var c=e.normalizeDate(t[1],t[0],1);if(i&&u>=o&&l<=d)i(c);else for(;+t[0]===+c.getMonth();){var f=e.date2string(c);f>=o&&f<=d&&r(c),c.setDate(c.getDate()+1)}}}})},s=function(e,t,n){var r=t.getMonth()+"-"+t.getFullYear();e.find("table[data-month-year='"+r+"']").find("td[data-day]").each(function(){a(this).addClass(n)})},o=function(e,t){var a=t.getSelectedDates();e.find(".selected").removeClass("selected"),i(e,a,function(t){r(e,t,"selected")},function(t){s(e,t,"selected")})},d=function(e,t){var a=t.getDisabledDates();e.find(".disabled").removeClass("disabled"),i(e,a,function(t){r(e,t,"disabled")},function(t){s(e,t,"disabled")})},u=function(e,t){d(e,t),o(e,t)},l={viewChange:[],markDate:[]},c=function(e,t,a){void 0===a&&(a=[]);for(var n=0;n<l[e].length;n++)l[e][n].apply(t,a)};return{build:function(t,f,g,h){var D={};if(f=e.extend({numberOfMonths:1,startDate:new Date,disabledDates:[]},f),"function"!=typeof f.numberOfMonths){var p=f.numberOfMonths;f.numberOfMonths=function(){return p}}var v=a(t),m=e.normalizeDate(f.startDate);return n(v,m,g,f),v.on("click",".arrow-right",function(){m.setMonth(m.getMonth()+1),n(v,m,g,f),u(v,h),c("viewChange",D)}),v.on("click",".arrow-left",function(){m.setMonth(m.getMonth()-1),n(v,m,g,f),u(v,h),c("viewChange",D)}),v.on("click","td[data-day]:not(.disabled)",function(t){t.stopPropagation(),t.preventDefault();var n=a(this);if(n.attr("class").split("disabled").length>1)return!1;var r=n.attr("data-day"),i=n.parent().parent().parent(),s=i.attr("data-month-year").split("-"),o=e.normalizeDate(s[1],s[0],r);c("markDate",D,[o,t.shiftKey,t.altKey])}),h.onSetSelectedDates(function(e){o(v,h)}),h.onSetDisabledDates(function(e){d(v,h)}),D.onMarkDate=function(e){l.markDate.push(e)},D.tagDatesAs=function(t,a){t=e.normalizeDates(t),v.find("."+a).removeClass(a),i(v,t,function(e){r(v,e,a)},function(e){s(v,e,a)})},D.onViewChange=function(e){l.viewChange.push(e)},D}}}(t,u,a))}(function(e){return function(){var t=[],a=[],n={clickDate:[],setSelectedDates:[],setDisabledDates:[]},r=function(e,t,a){for(var n=0;n<e.length;n++)e[n].apply(a,t)},i=function(t,a){if(e.overlaps(t,a))throw"overlap detected"};return{select:function(s){var o=e.normalizeDates(s);i(o,a),t=o,r(n.setSelectedDates,[t],this)},disable:function(t){a=e.normalizeDates(t),r(n.setDisabledDates,[a],this)},getSelectedDates:function(){return t},getDisabledDates:function(){return a},onSetSelectedDates:function(e){n.setSelectedDates.push(e)},onSetDisabledDates:function(e){n.setDisabledDates.push(e)},ui:function(){return this._ui},setUI:function(e){this._ui=e}}}}(t),function(e,t){var a={viewChange:[],markDate:[]};return{build:function(n,r,i,s){var o=r.fromDatesToHTML||function(e){for(var a=[],n=0;n<e.length;n++)1===e[n].length?a.push(t.date2string(e[n][0])):a.push(t.date2string(e[n][0])+" - "+t.date2string(e[n][1]));return a.join("<br/>")},d={},u=e(n);return u.empty(),d.onMarkDate=function(e){a.markDate.push(e)},d.tagDatesAs=function(e,t){},d.onViewChange=function(e){a.viewChange.push(e)},s.onSetSelectedDates(function(e){u.html(o(e))}),d}}}(a,t),function(e){return function(t,a,n,r){n={className:n.className||"rain_calendar",weekStart:n.weekStart||0,visibleBoundsDays:n.visibleBoundsDays||!1,interactive:n.interactive};var i=e("<table/>").addClass(n.className),s=e("<thead/>"),o=e("<tbody/>"),d=new Date(a,t,1,12),u=new Date(a,t+1,0,12).getDate(),l=new Date(a,t,0,12).getDate(),c=new Date,f=r;t=d.getMonth(),a=d.getFullYear(),i.attr("data-month-year",t+"-"+a),i.attr("unselectable","on"),n.interactive&&i.addClass("interactive");var g=e("<tr/>");g.append(e("<th/>").append(e("<span/>")).addClass("arrow-left")),g.append(e("<th/>").html(f.months[t]+" "+a).attr("colspan",5)),g.append(e("<th/>").append(e("<span/>")).addClass("arrow-right")),s.append(g);var h,D;h=e("<tr/>");var p;for(D=0;D<7;D++)p=(D+n.weekStart)%7,h.append(e("<th/>").html(f.shortDays[p]).addClass("day-"+p));s.append(h),i.append(s);var v=d.getDay();h=e("<tr/>");var m=0,y=(v-n.weekStart+7)%7;for(D=0;D<y;D++)m++,h.append(e("<td/>").html(n.visibleBoundsDays?+l-y+1+D:"").addClass("prev-month"));for(D=1;D<=u;D++)7===m&&(o.append(h),h=h.clone().empty(),m=0),h.append(e("<td/>").append(e("<span/>").html(D)).attr("data-day",D).addClass("day-"+(m+n.weekStart)%7)),m++;var b=1;for(D=m;D<7;D++)n.visibleBoundsDays?h.append(e("<td/>").html(b++).addClass("next-month")):h.append(e("<td/>").addClass("next-month"));o.append(h),t===c.getMonth()&&a===c.getFullYear()&&o.find("td").each(function(){e(this).attr("data-day")===c.getDate()&&e(this).addClass("today")});var w=o.find("tr").length;for(D=0;D<6-w;D++){h=e("<tr/>").addClass("emptyrow");for(var M=0;M<7;M++)n.visibleBoundsDays?h.append(e("<td/>").html(b++).addClass("next-month")):h.append(e("<td/>").addClass("next-month"));o.append(h)}return i.append(o)}}(a),function(e){var t=function(t,a){if(0===a.length)return[];for(var n,r,i=0,s=Number.MAX_VALUE,o=0;o<a.length;o++)for(r=0;r<a[o].length;r++)n=a[o][r],n<t&&n>i&&(i=+n),n>t&&n<s&&(s=+n);var d=new Date,u=new Date,l=[],c=[];return 0!==i?(d.setTime(i),l.push(["--",d]),e.date2string(e.getDateAddingDays(d,1))!==e.date2string(t)&&c.push([e.getDateAddingDays(d,1),e.getDateAddingDays(t,-1)])):c.push(["--",e.getDateAddingDays(t,-1)]),s!==Number.MAX_VALUE?(u.setTime(s),l.push([u,"++"]),e.date2string(e.getDateAddingDays(u,-1))!==e.date2string(t)&&c.push([e.getDateAddingDays(t,1),e.getDateAddingDays(u,-1)])):c.push([e.getDateAddingDays(t,1),"++"]),{yes:c,no:l}},a=function(e,t,a,n){e.tagDatesAs(t,"disabled-for-range"),e.tagDatesAs(a,"enable-for-range"),e.tagDatesAs(n,"rangestart")};return function(n,r,i){var s=[],o=i.ui(),d=[],u=[],l=[];o.onMarkDate(function(e){if(0===s.length||s.length>=2){s=[],s.push(e),i.select([]),l=e;var n=t(e,i.getDisabledDates());d=n.no,u=n.yes,a(o,d,u,l)}else 1===s.length&&(s[0]<e?s.push(e):s.unshift(e),l=[],i.select([s]),d=[],u=[],a(o,d,u,l))}),o.onViewChange(function(){a(o,d,u,l)});var c={select:function(t){if(!e.isArray(t))throw"In range mode, the select method accept only array"},disable:i.disable};return c}}(t),function(e){function t(t,a){for(var n=e.date2string(t),r=0;r<a.length;r++)if(e.date2string(a[r])===n)return r;return-1}function a(e,a){var n=t(e,a);return n===-1?a.push(new Date(+e)):a.splice(n,1),n===-1}function n(e,a){var n=t(e,a);return n===-1&&a.push(new Date(+e)),n===-1}function r(e,a){var n=t(e,a);return n!==-1&&a.splice(n,1),n===-1}return function(i,s,o){var d,u=!1,l=s.weekStart||0,c=o.getSelectedDates();return o.ui().onMarkDate(function(i,s,f){var g,h=o.getDisabledDates();if(s&&d){var D=d,p=D<i?[D,i]:[i,D];g=new Date(+p[0]);for(var v=t(d,c)!==-1,m=v?n:r;e.date2string(g)<=e.date2string(p[1]);)e.overlaps(g,h)||m(g,c),g.setDate(g.getDate()+1)}else if(f&&d){var y=d,p=y<i?[y,i]:[i,y],b=(y+l)%6<(i+l)%6?[i,y]:[y,i],w=Math.min(b[0].getDay(),b[1].getDay()),M=Math.max(b[0].getDay(),b[1].getDay());g=new Date(+p[0]);for(var v=t(d,c)!==-1,m=v?n:r;e.date2string(g)<=e.date2string(p[1]);)g.getDay()<=M&&g.getDay()>=w&&!e.overlaps(g,h)&&m(g,c),g.setDate(g.getDate()+1)}else a(i,c);d=new Date(+i);try{u=!0,o.select(c),u=!1}catch(e){c.pop()}}),o.onSetSelectedDates(function(e){if(!u)for(var t=0;t<e.length;t++){if(1!==e[t].length)throw"not valid selection";c.push(e[t][0])}}),o}}(t))}(function(){var e=function(e){return e<10?"0"+e:e+""},t=function(e,t){var a,n,r,i;return a=this.date2string(e[0]),n=this.date2string(e[1]),r=this.date2string(t[0]),i=this.date2string(t[1]),a<=i&&r<=n};return{isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},date2string:function(t){return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())},extend:function(e,t){for(var a in t)e[a]=t[a];return e},getDateAddingDays:function(e,t){var a=new Date(e);return a.setDate(a.getDate()+ +t),a},splitRange:function(e,t){var a=new Date(e[0]),n=new Date(e[1]);if(t>n||t<a)return e;var r=this.getDateAddingDays(t,-1),i=this.getDateAddingDays(t,1);return[[a,r],[i,n]]},overlaps:function(e,a){var n,r,i,s;for(e instanceof Date&&(e=[e]),a instanceof Date&&(a=[a]),n=0;n<e.length;n++)for(i=e[n]instanceof Date?[e[n],e[n]]:1===e[n].length?[e[n][0],e[n][0]]:e[n],r=0;r<a.length;r++)if(s=a[r]instanceof Date?[a[r],a[r]]:1===a[r].length?[a[r][0],a[r][0]]:a[r],t.apply(this,[i,s]))return!0;return!1},normalizeDate:function(e){var t,a;if(3===arguments.length)t=new Date(arguments[0],arguments[1],arguments[2]);else if(e instanceof Date)t=new Date(+e);else if("string"==typeof e)switch(e){case"now":case"today":t=new Date;break;case"yesterday":a=new Date,a.setDate(a.getDate()-1),t=a;break;case"tomorrow":a=new Date,a.setDate(a.getDate()+1),t=a;break;case"--":case"a long time ago":t=new Date(0,0,1);break;case"++":case"future":t=new Date((new Date).getFullYear()+4e3,11,31);break;default:var n=e.split("-");3===n.length&&(t=new Date,t.setDate(n[2]),t.setMonth(+n[1]-1),t.setFullYear(n[0]))}return t.setHours(15),t.setMinutes(0),t.setSeconds(0),t},normalizeDates:function(e){var t,a,n=[];if(this.isArray(e))for(t=0;t<e.length;t++)if(this.isArray(e[t])){for(n[t]=[],a=0;a<e[t].length;a++)if(n[t][a]=this.normalizeDate(e[t][a]),1===a&&this.date2string(n[t][0])>this.date2string(n[t][a]))throw"inverted ranges"}else n[t]=[this.normalizeDate(e[t])];else n=[[this.normalizeDate(e)]];return n}}}(),function(){if(!window.jQuery)throw"You must load jquery before";return window.jQuery}(),function(e,t,a){return a.ui().onMarkDate(function(e,t,n){a.select(e)}),a},{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["dom","lun","mar","mer","gio","ven","sab"],format:"dd/mm/YYYY"},{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],format:"mm/dd/YYYY"},{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],format:"dd.mm.YYYY"})}(this);