/*! RainCalendar 0.1.0 Copyright Luca Rainone | MIT License https://github.com/LucaRainone/RainCalendar/master/LICENSE.txt*/
!function(t){!function(t,e,n,a,r,i){!function(s,o,u,d,l){!function(u){!function(t){!function(t){this.define(function(){return t})}(t)}(function(t,e,n,a,r,i,s,o,u,d,l){var c={it:u,en:d,de:l},f=0,h=[],g={STATIC_CALENDAR:"static-calendar",DATE_STRING:"date-string"},p={SINGLE:"single",RANGE:"range",MULTIPLE:"multiple"},D={},v={},y=function(u,d){d=e.extend({lang:"en",interactive:!0,ui:g.STATIC_CALENDAR,selectionType:p.SINGLE,disabledDates:[]},d);var l,y=o(u),m=t(y,d);switch(d.ui){case g.STATIC_CALENDAR:m.setUI(a.build(u,d,c[d.lang],m));break;case g.DATE_STRING:m.setUI(n.build(u,d,c[d.lang],m));break;default:if(!D[d.ui])throw"no UI registered as '"+d.ui+"'";m.setUI(D[d.ui].build(u,d,c[d.lang],m))}switch(d.selectionType){case p.SINGLE:l=r(y,d,m);break;case p.RANGE:l=i(y,d,m);break;case p.MULTIPLE:l=s(y,d,m);break;default:if(!v[d.selectionType])throw"no SelectionType registered as '"+d.selectionType+"'";l=v[d.selectionType](y,d,m)}return m.disable(d.disabledDates),y.attr("data-raincalendar-id",++f),h.push(l),l};return y.registerLocale=function(t,e){c[t]=e},y.registerUI=function(t,e){D[t]=e()},y.registerSelectionType=function(t,e){v[t]=e},y.getApi=function(t){return h[t+1]},y.UI=g,y.SELECTION_TYPE=p,y.utils=e,y}(s,t,o,u,n,d,l,e,a,r,i))}(function(t,e,n){var a=function(a,r,i,s){a.empty();for(var o=t.normalizeDate(r),u=s.numberOfMonths(),d=0;d<u;d++)a.append(e(o.getMonth(),o.getFullYear(),s,i,0===d,d===u-1)),o.setMonth(o.getMonth()+1);var l=a.find(".arrow-right"),c=l.length,f=0;a.find(".arrow-right").each(function(){++f!==c&&n(this).removeClass("arrow-right")}),f=0,a.find(".arrow-left").each(function(){0!==f&&n(this).removeClass("arrow-left"),f++})},r=function(t,e,n){t.find("[data-month-year='"+e.getMonth()+"-"+e.getFullYear()+"']").find("td[data-day='"+e.getDate()+"']").addClass(n)},i=function(e,a,r,i){"function"==typeof a?e.find("[data-month-year]").each(function(){var t=n(this).attr("data-month-year").split("-");n(this).find("td[data-day]").each(function(){var e=new Date(t[1],t[0],n(this).attr("data-day"));a(e)&&r(e)})}):e.find("table[data-month-year]").each(function(){var e=n(this).attr("data-month-year").split("-");e=[+e[0],+e[1]];for(var s=0;s<a.length;s++)if(1===a[s].length)a[s][0].getMonth()===e[0]&&a[s][0].getFullYear()===e[1]&&r(a[s][0]);else if(2===a[s].length){var o=t.date2string(a[s][0]),u=t.date2string(a[s][1]),d=t.date2string(t.normalizeDate(e[1],e[0],1)),l=t.normalizeDate(e[1],e[0],1);if(l.setMonth(l.getMonth()+1),l.setDate(0),(l=t.date2string(l))>=o&&d<=u){var c=t.normalizeDate(e[1],e[0],1);if(i&&d>=o&&l<=u)i(c);else for(;+e[0]==+c.getMonth();){var f=t.date2string(c);f>=o&&f<=u&&r(c),c.setDate(c.getDate()+1)}}}})},s=function(t,e,a){var r=e.getMonth()+"-"+e.getFullYear();t.find("table[data-month-year='"+r+"']").find("td[data-day]").each(function(){n(this).addClass(a)})},o=function(t,e){var n=e.getSelectedDates();t.find(".selected").removeClass("selected"),t.find(".selected-range-start").removeClass("selected-range-start"),t.find(".selected-range-end").removeClass("selected-range-end"),i(t,n,function(e){r(t,e,"selected")},function(e){s(t,e,"selected")});for(var a=0;a<n.length;a++)2===n[a].length&&(r(t,n[a][0],"selected-range-start"),r(t,n[a][1],"selected-range-end"))},u=function(t,e){var n=e.getDisabledDates();t.find(".disabled").removeClass("disabled"),i(t,n,function(e){r(t,e,"disabled")},function(e){s(t,e,"disabled")})},d=function(t,e){u(t,e),o(t,e)},l=function(e,n,a){"numberOfMonths"===n&&(a=t.functionize(a)),e[n]=a};return{build:function(e,c,f,h){var g={};c=t.extend({numberOfMonths:1,startDate:new Date},c);var p={viewChange:[],markDate:[]},D=function(t,e,n){void 0===n&&(n=[]);for(var a=0;a<p[t].length;a++)p[t][a].apply(e,n)},v=function(){a(m,b,f,c),d(m,h);for(var t in y)m.find("."+t).removeClass(t),i(m,y[t],function(e){r(m,e,t)},function(e){s(m,e,t)});D("viewChange",g)},y={};l(c,"numberOfMonths",c.numberOfMonths);var m=n(e),b=t.normalizeDate(c.startDate);return a(m,b,f,c),m.on("click",".arrow-right",function(){b.setMonth(b.getMonth()+1),v()}),m.on("click",".arrow-left",function(){b.setMonth(b.getMonth()-1),v()}),m.on("click","td[data-day]:not(.disabled)",function(e){e.stopPropagation(),e.preventDefault();var a=n(this);if(a.attr("class").split("disabled").length>1)return!1;var r=a.attr("data-day"),i=a.parent().parent().parent(),s=i.attr("data-month-year").split("-"),o=t.normalizeDate(s[1],s[0],r);D("markDate",g,[o,e.shiftKey,e.altKey])}),h.onSetSelectedDates(function(){o(m,h)}),h.onSetDisabledDates(function(){u(m,h)}),g.onMarkDate=function(t){p.markDate.push(t)},g.tagDatesAs=function(e,n){"function"!=typeof e&&(e=t.normalizeDates(e)),y[n]=e,m.find("."+n).removeClass(n),i(m,e,function(t){r(m,t,n)},function(t){s(m,t,n)})},g.onViewChange=function(t){p.viewChange.push(t)},g.redraw=function(){v()},g.setOption=function(t,e){l(c,t,e)},g.showDate=function(e){b=t.normalizeDate(e),v()},g.getViewRange=function(){var e=t.normalizeDate(b);e.setDate(1);var n=t.normalizeDate(e),a=c.numberOfMonths();return n.setMonth(n.getMonth()+a),[e,n]},g}}}(t,u,e))}(function(t){return function(){var e=[],n=[],a={clickDate:[],setSelectedDates:[],setDisabledDates:[]},r=function(t,e,n){for(var a=0;a<t.length;a++)t[a].apply(n,e)},i=function(e,n){if(t.overlaps(e,n))throw"overlap detected"};return{select:function(s){var o=t.normalizeDates(s);i(o,n),e=o,r(a.setSelectedDates,[e],this)},disable:function(e){n=t.normalizeDates(e),r(a.setDisabledDates,[n],this)},getSelectedDates:function(){return e},getDisabledDates:function(){return n},onSetSelectedDates:function(t){a.setSelectedDates.push(t)},onSetDisabledDates:function(t){a.setDisabledDates.push(t)},ui:function(){return this._ui},setUI:function(t){this._ui=t}}}}(t),function(t,e){var n={viewChange:[],markDate:[]};return{build:function(a,r,i,s){var o=r.fromDatesToHTML||function(t){for(var n=[],a=0;a<t.length;a++)1===t[a].length?n.push(e.date2string(t[a][0])):n.push(e.date2string(t[a][0])+" - "+e.date2string(t[a][1]));return n.join("<br/>")},u={},d=t(a);return d.empty(),u.onMarkDate=function(t){n.markDate.push(t)},u.tagDatesAs=function(t,e){},u.onViewChange=function(t){n.viewChange.push(t)},s.onSetSelectedDates(function(t){d.html(o(t))}),u}}}(e,t),function(t){return function(e,n,a,r){a={className:a.className||"rain_calendar",weekStart:a.weekStart||0,visibleBoundsDays:a.visibleBoundsDays||!1,interactive:a.interactive};var i=t("<table/>").addClass(a.className),s=t("<thead/>"),o=t("<tbody/>"),u=new Date(n,e,1,12),d=new Date(n,e+1,0,12).getDate(),l=new Date(n,e,0,12).getDate(),c=new Date,f=r;e=u.getMonth(),n=u.getFullYear(),i.attr("data-month-year",e+"-"+n),i.attr("unselectable","on"),a.interactive&&i.addClass("interactive");var h=t("<tr/>");h.append(t("<th/>").append(t("<span/>")).addClass("arrow-left")),h.append(t("<th/>").html(f.months[e]+" "+n).attr("colspan",5)),h.append(t("<th/>").append(t("<span/>")).addClass("arrow-right")),s.append(h);var g,p;g=t("<tr/>");var D;for(p=0;p<7;p++)D=(p+a.weekStart)%7,g.append(t("<th/>").html(f.shortDays[D]).addClass("day-"+D));s.append(g),i.append(s);var v=u.getDay();g=t("<tr/>");var y=0,m=(v-a.weekStart+7)%7;for(p=0;p<m;p++)y++,g.append(t("<td/>").html(a.visibleBoundsDays?+l-m+1+p:"").addClass("prev-month"));for(p=1;p<=d;p++)7===y&&(o.append(g),g=g.clone().empty(),y=0),g.append(t("<td/>").append(t("<span/>").html(p)).attr("data-day",p).addClass("day-"+(y+a.weekStart)%7)),y++;var b=1;for(p=y;p<7;p++)a.visibleBoundsDays?g.append(t("<td/>").html(b++).addClass("next-month")):g.append(t("<td/>").addClass("next-month"));o.append(g),e===c.getMonth()&&n===c.getFullYear()&&o.find("td").each(function(){t(this).attr("data-day")===c.getDate()&&t(this).addClass("today")});var w=o.find("tr").length;for(p=0;p<6-w;p++){g=t("<tr/>").addClass("emptyrow");for(var M=0;M<7;M++)a.visibleBoundsDays?g.append(t("<td/>").html(b++).addClass("next-month")):g.append(t("<td/>").addClass("next-month"));o.append(g)}return i.append(o)}}(e),function(t){var e=function(e,n){if(0===n.length)return[];for(var a,r,i=0,s=Number.MAX_VALUE,o=0;o<n.length;o++)for(r=0;r<n[o].length;r++)a=n[o][r],a<e&&a>i&&(i=+a),a>e&&a<s&&(s=+a);var u=new Date,d=new Date,l=[],c=[];return 0!==i?(u.setTime(i),l.push(["--",u]),t.date2string(t.getDateAddingDays(u,1))!==t.date2string(e)&&c.push([t.getDateAddingDays(u,1),t.getDateAddingDays(e,-1)])):c.push(["--",t.getDateAddingDays(e,-1)]),s!==Number.MAX_VALUE?(d.setTime(s),l.push([d,"++"]),t.date2string(t.getDateAddingDays(d,-1))!==t.date2string(e)&&c.push([t.getDateAddingDays(e,1),t.getDateAddingDays(d,-1)])):c.push([t.getDateAddingDays(e,1),"++"]),{yes:c,no:l}},n=function(t,e,n,a){t.tagDatesAs(e,"disabled-for-range"),t.tagDatesAs(n,"enable-for-range"),t.tagDatesAs(a,"rangestart")};return function(a,r,i){var s=[],o=i.ui(),u=[],d=[],l=[];o.onMarkDate(function(t){if(0===s.length||s.length>=2){s=[],s.push(t),i.select([]),l=t;var a=e(t,i.getDisabledDates());u=a.no,d=a.yes,n(o,u,d,l)}else 1===s.length&&(s[0]<t?s.push(t):s.unshift(t),l=[],i.select([s]),u=[],d=[],n(o,u,d,l))});var c=i.select;return i.select=function(e){if(!t.isArray(e))throw"In range mode, the select method accept only array";c(e)},i}}(t),function(t){function e(e,n){for(var a=t.date2string(e),r=0;r<n.length;r++)if(t.date2string(n[r])===a)return r;return-1}function n(t,n){var a=e(t,n);return-1===a?n.push(new Date(+t)):n.splice(a,1),-1===a}function a(t,n){var a=e(t,n);return-1===a&&n.push(new Date(+t)),-1===a}function r(t,n){var a=e(t,n);return-1!==a&&n.splice(a,1),-1===a}return function(i,s,o){var u,d=!1,l=s.weekStart||0,c=o.getSelectedDates();return o.ui().onMarkDate(function(i,s,f){var h,g=o.getDisabledDates();if(s&&u){var p=u,D=p<i?[p,i]:[i,p];h=new Date(+D[0]);for(var v=-1!==e(u,c),y=v?a:r;t.date2string(h)<=t.date2string(D[1]);)t.overlaps(h,g)||y(h,c),h.setDate(h.getDate()+1)}else if(f&&u){var m=u,D=m<i?[m,i]:[i,m],b=(m+l)%6<(i+l)%6?[i,m]:[m,i],w=Math.min(b[0].getDay(),b[1].getDay()),M=Math.max(b[0].getDay(),b[1].getDay());h=new Date(+D[0]);for(var v=-1!==e(u,c),y=v?a:r;t.date2string(h)<=t.date2string(D[1]);)h.getDay()<=M&&h.getDay()>=w&&!t.overlaps(h,g)&&y(h,c),h.setDate(h.getDate()+1)}else n(i,c);u=new Date(+i);try{d=!0,o.select(c),d=!1}catch(t){c.pop()}}),o.onSetSelectedDates(function(t){if(!d)for(var e=0;e<t.length;e++){if(1!==t[e].length)throw"not valid selection";c.push(t[e][0])}}),o}}(t))}(function(){var t=function(t){return t<10?"0"+t:t+""},e=function(t,e){var n,a,r,i;return n=this.date2string(t[0]),a=this.date2string(t[1]),r=this.date2string(e[0]),i=this.date2string(e[1]),n<=i&&r<=a};return{isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},date2string:function(e){return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())},extend:function(t,e){for(var n in e)t[n]=e[n];return t},getDateAddingDays:function(t,e){var n=new Date(t);return n.setDate(n.getDate()+ +e),n},splitRange:function(t,e){var n=new Date(t[0]),a=new Date(t[1]),r=this.date2string(e);if(r>this.date2string(a)||r<this.date2string(n))return[null,null];var i=this.getDateAddingDays(e,-1),s=this.getDateAddingDays(e,1);return[+i>+n?[n,i]:null,s<a?[s,a]:null]},overlaps:function(t,n){var a,r,i,s;for(t=this.normalizeDates(t),n=this.normalizeDates(n),a=0;a<t.length;a++)for(i=t[a]instanceof Date?[t[a],t[a]]:1===t[a].length?[t[a][0],t[a][0]]:t[a],r=0;r<n.length;r++)if(s=n[r]instanceof Date?[n[r],n[r]]:1===n[r].length?[n[r][0],n[r][0]]:n[r],e.apply(this,[i,s]))return!0;return!1},normalizeDate:function(t){var e,n;if(3===arguments.length)e=new Date(arguments[0],arguments[1],arguments[2]);else if(t instanceof Date)e=new Date(+t);else if("string"==typeof t)switch(t){case"now":case"today":e=new Date;break;case"yesterday":n=new Date,n.setDate(n.getDate()-1),e=n;break;case"tomorrow":n=new Date,n.setDate(n.getDate()+1),e=n;break;case"--":case"a long time ago":e=new Date(0,0,1);break;case"++":case"future":e=new Date((new Date).getFullYear()+4e3,11,31);break;default:var a=t.split("-");3===a.length&&(e=new Date,e.setDate(a[2]),e.setMonth(+a[1]-1),e.setFullYear(a[0]))}return e.setHours(15),e.setMinutes(0),e.setSeconds(0),e},normalizeDates:function(t){var e,n,a=[];if(this.isArray(t))for(e=0;e<t.length;e++)if(this.isArray(t[e])){for(a[e]=[],n=0;n<t[e].length;n++)if(a[e][n]=this.normalizeDate(t[e][n]),1===n&&this.date2string(a[e][0])>this.date2string(a[e][n]))throw"inverted ranges"}else a[e]=[this.normalizeDate(t[e])];else a=[[this.normalizeDate(t)]];return a},functionize:function(t){if("function"!=typeof t){var e=t;t=function(){return e}}return t}}}(),function(){var t=function(){var e,n;if(this instanceof t){e=arguments[0],this.data="push"in e?e:[e];for(n=0;n<this.data.length;n++)this[n]=this.data[n];return void(this.length=this.data.length)}var a=arguments[0];if(a instanceof t)return a;if("string"==typeof a){if("<"===a.substr(0,1)){var r=a.substr(1,a.indexOf("/")-1),i=document.createElement(r.toUpperCase());return new t(i)}e=[];var s=document.querySelectorAll(a);for(n=0;n<s.length;n++)e.push(s[n]);return new t(e)}if(a instanceof HTMLElement)return new t(a);if("undefined"!=typeof jQuery&&a instanceof jQuery){var o=[];return a.each(function(){o.push(this)}),new t(o)}};t.prototype.each=function(t){for(var e=0;e<this.data.length;e++)t.apply(this.data[e],[e])},t.prototype.addClass=function(t){return this.each(function(){this.className+=" "+t+" ",this.className=this.className.trim()}),this},t.prototype.removeClass=function(t){return this.each(function(){var e=" "+this.className.split(" ").join("  ")+" ";this.className=e.split(" "+t+" ").join("  ").split("  ").join(" ").trim(),""===this.className&&this.removeAttribute("class")}),this},t.prototype.attr=function(t,e){return void 0===e?this.data[0].getAttribute(t):(this.each(function(){this.setAttribute(t,e)}),this)},t.prototype.html=function(t){return void 0===t?this.data[0].outerHTML:(this.data[0].innerHTML=t,this)},t.prototype.append=function(e){return e=e instanceof t?e.get(0):e,this.data[0].appendChild(e),this},t.prototype.clone=function(){return new t(this.get(0).cloneNode(!0))},t.prototype.empty=function(){return this.each(function(){this.innerHTML=""}),this},t.prototype.find=function(e){var n=[];return this.each(function(){for(var t=this.querySelectorAll(e),a=0;a<t.length;a++)n.push(t[a])}),new t(n)},t.prototype.get=function(t){return this.data[t]};var e=function(t){return{originalEvent:t,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()},altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey}};return t.prototype.on=function(n,a,r){var i;"function"==typeof a?r=a:i=a,void 0===i?this.each(function(){this.addEventListener(n,function(t){r.apply(this,[e(t)])})}):this.each(function(){this.addEventListener(n,function(n){var a=t(this).find(i),s=[];a.each(function(){s.push(this)});for(var o=n.target;o;){if(-1!==s.indexOf(o)){r.apply(o,[e(n)]);break}if(o===this||o===document.body)break;o=o.parentNode}})})},t.prototype.parent=function(){return t(this[0].parentNode)},t}(),function(t,e,n){return n.ui().onMarkDate(function(t,e,a){n.select(t)}),n},{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["dom","lun","mar","mer","gio","ven","sab"],format:"d/m/Y"},{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],format:"m/d/Y"},{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],format:"d.m.Y"})}();