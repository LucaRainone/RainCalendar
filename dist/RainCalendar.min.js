/*! RainCalendar 0.9.0 Copyright Luca Rainone | MIT License https://github.com/LucaRainone/RainCalendar/master/LICENSE.txt*/
!function(t){!function(e,a,n,r,i,s){!function(o,u,d,l,c){!function(d){!function(e){t.RainCalendar=arguments[0]}(function(t,e,a,n,r,i,s,o,u,d,l){var c={it:u,en:d,de:l},h=0,f=[],g={STATIC_CALENDAR:"static-calendar",DATE_STRING:"date-string"},p={SINGLE:"single",RANGE:"range",MULTIPLE:"multiple"},D={},v={},y={calenderize:function(u,d){d=e.extend({lang:"en",interactive:!0,ui:g.STATIC_CALENDAR,selectionType:p.SINGLE,disabledDates:[]},d);var l,v=o(u),y=t(v,d);switch(d.ui){case g.STATIC_CALENDAR:y.setUI(n.build(u,d,c[d.lang],y));break;case g.DATE_STRING:y.setUI(a.build(u,d,c[d.lang],y));break;default:if(!D[d.ui])throw"no UI registered as '"+d.ui+"'";y.setUI(D[d.ui].build(u,d,c[d.lang],y))}switch(d.selectionType){case p.SINGLE:l=r(v,d,y);break;case p.RANGE:l=i(v,d,y);break;case p.MULTIPLE:l=s(v,d,y)}return y.disable(d.disabledDates),v.attr("data-raincalendar-id",++h),f.push(l),l},registerLocale:function(t,e){c[t]=e},registerUI:function(t,e){D[t]=e},registerSelectionType:function(t,e){v[t]=e},getApi:function(t){return f[t+1]},UI:g,SELECTION_TYPE:p};return y}(o,e,u,d,n,l,c,a,r,i,s))}(function(t,e,a){var n=function(n,r,i,s){n.empty();for(var o=t.normalizeDate(r),u=s.numberOfMonths(),d=0;d<u;d++)n.append(e(o.getMonth(),o.getFullYear(),s,i,0===d,d===u-1)),o.setMonth(o.getMonth()+1);var l=n.find(".arrow-right"),c=l.length,h=0;n.find(".arrow-right").each(function(){h++,h!==c&&a(this).removeClass("arrow-right")}),h=0,n.find(".arrow-left").each(function(){0!==h&&a(this).removeClass("arrow-left"),h++})},r=function(t,e,a){var n=t.find("[data-month-year='"+e.getMonth()+"-"+e.getFullYear()+"']");n.find("td[data-day='"+e.getDate()+"']").addClass(a)},i=function(e,n,r,i){e.find("table[data-month-year]").each(function(){var e=a(this).attr("data-month-year").split("-");e=[+e[0],+e[1]];for(var s=0;s<n.length;s++)if(1===n[s].length)n[s][0].getMonth()===e[0]&&n[s][0].getFullYear()===e[1]&&r(n[s][0]);else if(2===n[s].length){var o=t.date2string(n[s][0]),u=t.date2string(n[s][1]),d=t.date2string(t.normalizeDate(e[1],e[0],1)),l=t.normalizeDate(e[1],e[0],1);if(l.setMonth(l.getMonth()+1),l.setDate(0),l=t.date2string(l),l>=o&&d<=u){var c=t.normalizeDate(e[1],e[0],1);if(i&&d>=o&&l<=u)i(c);else for(;+e[0]===+c.getMonth();){var h=t.date2string(c);h>=o&&h<=u&&r(c),c.setDate(c.getDate()+1)}}}})},s=function(t,e,n){var r=e.getMonth()+"-"+e.getFullYear();t.find("table[data-month-year='"+r+"']").find("td[data-day]").each(function(){a(this).addClass(n)})},o=function(t,e){var a=e.getSelectedDates();t.find(".selected").removeClass("selected"),i(t,a,function(e){r(t,e,"selected")},function(e){s(t,e,"selected")})},u=function(t,e){var a=e.getDisabledDates();t.find(".disabled").removeClass("disabled"),i(t,a,function(e){r(t,e,"disabled")},function(e){s(t,e,"disabled")})},d=function(t,e){u(t,e),o(t,e)},l={viewChange:[],markDate:[]},c=function(t,e,a){void 0===a&&(a=[]);for(var n=0;n<l[t].length;n++)l[t][n].apply(e,a)};return{build:function(e,h,f,g){var p={};if(h=t.extend({numberOfMonths:1,startDate:new Date,disabledDates:[]},h),"function"!=typeof h.numberOfMonths){var D=h.numberOfMonths;h.numberOfMonths=function(){return D}}var v=a(e),y=t.normalizeDate(h.startDate);return n(v,y,f,h),v.on("click",".arrow-right",function(){y.setMonth(y.getMonth()+1),n(v,y,f,h),d(v,g),c("viewChange",p)}),v.on("click",".arrow-left",function(){y.setMonth(y.getMonth()-1),n(v,y,f,h),d(v,g),c("viewChange",p)}),v.on("click","td[data-day]:not(.disabled)",function(e){e.stopPropagation(),e.preventDefault();var n=a(this);if(n.attr("class").split("disabled").length>1)return!1;var r=n.attr("data-day"),i=n.parent().parent().parent(),s=i.attr("data-month-year").split("-"),o=t.normalizeDate(s[1],s[0],r);c("markDate",p,[o,e.shiftKey,e.altKey])}),g.onSetSelectedDates(function(t){o(v,g)}),g.onSetDisabledDates(function(t){u(v,g)}),p.onMarkDate=function(t){l.markDate.push(t)},p.tagDatesAs=function(e,a){e=t.normalizeDates(e),v.find("."+a).removeClass(a),i(v,e,function(t){r(v,t,a)},function(t){s(v,t,a)})},p.onViewChange=function(t){l.viewChange.push(t)},p}}}(e,d,a))}(function(t){return function(){var e=[],a=[],n={clickDate:[],setSelectedDates:[],setDisabledDates:[]},r=function(t,e,a){for(var n=0;n<t.length;n++)t[n].apply(a,e)},i=function(e,a){if(t.overlaps(e,a))throw"overlap detected"};return{select:function(s){var o=t.normalizeDates(s);i(o,a),e=o,r(n.setSelectedDates,[e],this)},disable:function(e){a=t.normalizeDates(e),r(n.setDisabledDates,[a],this)},getSelectedDates:function(){return e},getDisabledDates:function(){return a},onSetSelectedDates:function(t){n.setSelectedDates.push(t)},onSetDisabledDates:function(t){n.setDisabledDates.push(t)},ui:function(){return this._ui},setUI:function(t){this._ui=t}}}}(e),function(t,e){var a={viewChange:[],markDate:[]};return{build:function(n,r,i,s){var o=r.fromDatesToHTML||function(t){for(var a=[],n=0;n<t.length;n++)1===t[n].length?a.push(e.date2string(t[n][0])):a.push(e.date2string(t[n][0])+" - "+e.date2string(t[n][1]));return a.join("<br/>")},u={},d=t(n);return d.empty(),u.onMarkDate=function(t){a.markDate.push(t)},u.tagDatesAs=function(t,e){},u.onViewChange=function(t){a.viewChange.push(t)},s.onSetSelectedDates(function(t){d.html(o(t))}),u}}}(a,e),function(t){return function(e,a,n,r){n={className:n.className||"rain_calendar",weekStart:n.weekStart||0,visibleBoundsDays:n.visibleBoundsDays||!1,interactive:n.interactive};var i=t("<table/>").addClass(n.className),s=t("<thead/>"),o=t("<tbody/>"),u=new Date(a,e,1,12),d=new Date(a,e+1,0,12).getDate(),l=new Date(a,e,0,12).getDate(),c=new Date,h=r;e=u.getMonth(),a=u.getFullYear(),i.attr("data-month-year",e+"-"+a),i.attr("unselectable","on"),n.interactive&&i.addClass("interactive");var f=t("<tr/>");f.append(t("<th/>").append(t("<span/>")).addClass("arrow-left")),f.append(t("<th/>").html(h.months[e]+" "+a).attr("colspan",5)),f.append(t("<th/>").append(t("<span/>")).addClass("arrow-right")),s.append(f);var g,p;g=t("<tr/>");var D;for(p=0;p<7;p++)D=(p+n.weekStart)%7,g.append(t("<th/>").html(h.shortDays[D]).addClass("day-"+D));s.append(g),i.append(s);var v=u.getDay();g=t("<tr/>");var y=0,m=(v-n.weekStart+7)%7;for(p=0;p<m;p++)y++,g.append(t("<td/>").html(n.visibleBoundsDays?+l-m+1+p:"").addClass("prev-month"));for(p=1;p<=d;p++)7===y&&(o.append(g),g=g.clone().empty(),y=0),g.append(t("<td/>").append(t("<span/>").html(p)).attr("data-day",p).addClass("day-"+(y+n.weekStart)%7)),y++;var b=1;for(p=y;p<7;p++)n.visibleBoundsDays?g.append(t("<td/>").html(b++).addClass("next-month")):g.append(t("<td/>").addClass("next-month"));o.append(g),e===c.getMonth()&&a===c.getFullYear()&&o.find("td").each(function(){t(this).attr("data-day")===c.getDate()&&t(this).addClass("today")});var w=o.find("tr").length;for(p=0;p<6-w;p++){g=t("<tr/>").addClass("emptyrow");for(var M=0;M<7;M++)n.visibleBoundsDays?g.append(t("<td/>").html(b++).addClass("next-month")):g.append(t("<td/>").addClass("next-month"));o.append(g)}return i.append(o)}}(a),function(t){var e=function(e,a){if(0===a.length)return[];for(var n,r,i=0,s=Number.MAX_VALUE,o=0;o<a.length;o++)for(r=0;r<a[o].length;r++)n=a[o][r],n<e&&n>i&&(i=+n),n>e&&n<s&&(s=+n);var u=new Date,d=new Date,l=[],c=[];return 0!==i?(u.setTime(i),l.push(["--",u]),t.date2string(t.getDateAddingDays(u,1))!==t.date2string(e)&&c.push([t.getDateAddingDays(u,1),t.getDateAddingDays(e,-1)])):c.push(["--",t.getDateAddingDays(e,-1)]),s!==Number.MAX_VALUE?(d.setTime(s),l.push([d,"++"]),t.date2string(t.getDateAddingDays(d,-1))!==t.date2string(e)&&c.push([t.getDateAddingDays(e,1),t.getDateAddingDays(d,-1)])):c.push([t.getDateAddingDays(e,1),"++"]),{yes:c,no:l}},a=function(t,e,a,n){t.tagDatesAs(e,"disabled-for-range"),t.tagDatesAs(a,"enable-for-range"),t.tagDatesAs(n,"rangestart")};return function(n,r,i){var s=[],o=i.ui(),u=[],d=[],l=[];o.onMarkDate(function(t){if(0===s.length||s.length>=2){s=[],s.push(t),i.select([]),l=t;var n=e(t,i.getDisabledDates());u=n.no,d=n.yes,a(o,u,d,l)}else 1===s.length&&(s[0]<t?s.push(t):s.unshift(t),l=[],i.select([s]),u=[],d=[],a(o,u,d,l))}),o.onViewChange(function(){a(o,u,d,l)});var c={select:function(e){if(!t.isArray(e))throw"In range mode, the select method accept only array"},disable:i.disable};return c}}(e),function(t){function e(e,a){for(var n=t.date2string(e),r=0;r<a.length;r++)if(t.date2string(a[r])===n)return r;return-1}function a(t,a){var n=e(t,a);return n===-1?a.push(new Date(+t)):a.splice(n,1),n===-1}function n(t,a){var n=e(t,a);return n===-1&&a.push(new Date(+t)),n===-1}function r(t,a){var n=e(t,a);return n!==-1&&a.splice(n,1),n===-1}return function(i,s,o){var u,d=!1,l=s.weekStart||0,c=o.getSelectedDates();return o.ui().onMarkDate(function(i,s,h){var f,g=o.getDisabledDates();if(s&&u){var p=u,D=p<i?[p,i]:[i,p];f=new Date(+D[0]);for(var v=e(u,c)!==-1,y=v?n:r;t.date2string(f)<=t.date2string(D[1]);)t.overlaps(f,g)||y(f,c),f.setDate(f.getDate()+1)}else if(h&&u){var m=u,D=m<i?[m,i]:[i,m],b=(m+l)%6<(i+l)%6?[i,m]:[m,i],w=Math.min(b[0].getDay(),b[1].getDay()),M=Math.max(b[0].getDay(),b[1].getDay());f=new Date(+D[0]);for(var v=e(u,c)!==-1,y=v?n:r;t.date2string(f)<=t.date2string(D[1]);)f.getDay()<=M&&f.getDay()>=w&&!t.overlaps(f,g)&&y(f,c),f.setDate(f.getDate()+1)}else a(i,c);u=new Date(+i);try{d=!0,o.select(c),d=!1}catch(t){c.pop()}}),o.onSetSelectedDates(function(t){if(!d)for(var e=0;e<t.length;e++){if(1!==t[e].length)throw"not valid selection";c.push(t[e][0])}}),o}}(e))}(function(){var t=function(t){return t<10?"0"+t:t+""},e=function(t,e){var a,n,r,i;return a=this.date2string(t[0]),n=this.date2string(t[1]),r=this.date2string(e[0]),i=this.date2string(e[1]),a<=i&&r<=n};return{isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},date2string:function(e){return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())},extend:function(t,e){for(var a in e)t[a]=e[a];return t},getDateAddingDays:function(t,e){var a=new Date(t);return a.setDate(a.getDate()+ +e),a},splitRange:function(t,e){var a=new Date(t[0]),n=new Date(t[1]);if(e>n||e<a)return t;var r=this.getDateAddingDays(e,-1),i=this.getDateAddingDays(e,1);return[[a,r],[i,n]]},overlaps:function(t,a){var n,r,i,s;for(t instanceof Date&&(t=[t]),a instanceof Date&&(a=[a]),n=0;n<t.length;n++)for(i=t[n]instanceof Date?[t[n],t[n]]:1===t[n].length?[t[n][0],t[n][0]]:t[n],r=0;r<a.length;r++)if(s=a[r]instanceof Date?[a[r],a[r]]:1===a[r].length?[a[r][0],a[r][0]]:a[r],e.apply(this,[i,s]))return!0;return!1},normalizeDate:function(t){var e,a;if(3===arguments.length)e=new Date(arguments[0],arguments[1],arguments[2]);else if(t instanceof Date)e=new Date(+t);else if("string"==typeof t)switch(t){case"now":case"today":e=new Date;break;case"yesterday":a=new Date,a.setDate(a.getDate()-1),e=a;break;case"tomorrow":a=new Date,a.setDate(a.getDate()+1),e=a;break;case"--":case"a long time ago":e=new Date(0,0,1);break;case"++":case"future":e=new Date((new Date).getFullYear()+4e3,11,31);break;default:var n=t.split("-");3===n.length&&(e=new Date,e.setDate(n[2]),e.setMonth(+n[1]-1),e.setFullYear(n[0]))}return e.setHours(15),e.setMinutes(0),e.setSeconds(0),e},normalizeDates:function(t){var e,a,n=[];if(this.isArray(t))for(e=0;e<t.length;e++)if(this.isArray(t[e])){for(n[e]=[],a=0;a<t[e].length;a++)if(n[e][a]=this.normalizeDate(t[e][a]),1===a&&this.date2string(n[e][0])>this.date2string(n[e][a]))throw"inverted ranges"}else n[e]=[this.normalizeDate(t[e])];else n=[[this.normalizeDate(t)]];return n}}}(),function(){var t=function(){var e,a;if(this instanceof t){e=arguments[0],"push"in e?this.data=e:this.data=[e];for(a=0;a<this.data.length;a++)this[a]=this.data[a];return void(this.length=this.data.length)}var n=arguments[0];if(n instanceof t)return n;if("string"==typeof n){if("<"===n.substr(0,1)){var r=n.substr(1,n.indexOf("/")-1),i=document.createElement(r.toUpperCase());return new t(i)}e=[];var s=document.querySelectorAll(n);for(a=0;a<s.length;a++)e.push(s[a]);return new t(e)}if(n instanceof HTMLElement)return new t(n);if("undefined"!=typeof jQuery&&n instanceof jQuery){var o=[];return n.each(function(){o.push(this)}),new t(o)}};t.prototype.each=function(t){for(var e=0;e<this.data.length;e++)t.apply(this.data[e],[e])},t.prototype.addClass=function(t){return this.each(function(){this.className+=" "+t+" ",this.className=this.className.trim()}),this},t.prototype.removeClass=function(t){return this.each(function(){var e=" "+this.className.split(" ").join("  ")+" ";this.className=e.split(" "+t+" ").join("  ").split("  ").join(" ").trim(),""===this.className&&this.removeAttribute("class")}),this},t.prototype.attr=function(t,e){return void 0===e?this.data[0].getAttribute(t):(this.each(function(){this.setAttribute(t,e)}),this)},t.prototype.html=function(t){return void 0===t?this.data[0].outerHTML:(this.data[0].innerHTML=t,this)},t.prototype.append=function(e){return e=e instanceof t?e.get(0):e,this.data[0].appendChild(e),this},t.prototype.clone=function(){return new t(this.get(0).cloneNode(!0))},t.prototype.empty=function(){return this.each(function(){this.innerHTML=""}),this},t.prototype.find=function(e){var a=[];return this.each(function(){for(var t=this.querySelectorAll(e),n=0;n<t.length;n++)a.push(t[n])}),new t(a)},t.prototype.get=function(t){return this.data[t]};var e=function(t){return{originalEvent:t,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()},altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey}};return t.prototype.on=function(a,n,r){var i;"function"==typeof n?r=n:i=n,void 0===i?this.each(function(){this.addEventListener(a,function(t){r.apply(this,[e(t)])})}):this.each(function(){this.addEventListener(a,function(a){var n=t(this).find(i),s=[];n.each(function(){s.push(this)});for(var o=a.target;o;){if(s.indexOf(o)!==-1){r.apply(o,[e(a)]);break}if(o===this||o===document.body)break;o=o.parentNode}})})},t.prototype.parent=function(){return t(this[0].parentNode)},t}(),function(t,e,a){return a.ui().onMarkDate(function(t,e,n){a.select(t)}),a},{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["dom","lun","mar","mer","gio","ven","sab"],format:"dd/mm/YYYY"},{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],format:"mm/dd/YYYY"},{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],format:"dd.mm.YYYY"})}(this);